<div class="construct-images">

    {{#if actor.system.alchimie.constructs.cornue.active}}
    <img src="systems/neph5e/assets/backgrounds/cornue.webp"/>
    {{/if}}

    {{#if actor.system.alchimie.constructs.creuset.active}}
    <img src="systems/neph5e/assets/backgrounds/creuset.webp"/>
    {{/if}}

    {{#if actor.system.alchimie.constructs.athanor.active}}
    <img src="systems/neph5e/assets/backgrounds/athanor.webp"/>
    {{/if}}

    {{#if actor.system.alchimie.constructs.aludel.active}}
    <img src="systems/neph5e/assets/backgrounds/aludel.webp"/>
    {{/if}}

    {{#if actor.system.alchimie.constructs.alambic.active}}
    <img src="systems/neph5e/assets/backgrounds/alambic.webp"/>
    {{/if}}

</div>

<ol class="item-list constructs">

    <div class="header">
        <span class="name">{{localize "NEPH5E.alchimie.construct"}}</span>
        <div class="tooltip parameter width-40">
            <i class="fas fa-wind"></i>
            <span class="tooltiptext">{{localize "NEPH5E.air"}}</span>
        </div>
        <div class="tooltip parameter width-40">
            <i class="fas fa-water"></i>
            <span class="tooltiptext">{{localize "NEPH5E.eau"}}</span>
        </div>
        <div class="tooltip parameter width-40">
            <i class="fas fa-fire"></i>
            <span class="tooltiptext">{{localize "NEPH5E.feu"}}</span>
        </div>
        <div class="tooltip parameter width-40">
            <i class="fas fa-moon"></i>
            <span class="tooltiptext">{{localize "NEPH5E.lune"}}</span>
        </div>
        <div class="tooltip parameter width-40">
            <i class="fas fa-seedling"></i>
            <span class="tooltiptext">{{localize "NEPH5E.terre"}}</span>
        </div>
        <div class="parameter width-135">
            <span>Oeuvre</span>
        </div>
        <div class="parameter width-80">
            <span>Substance</span>
        </div>
        <div class="parameter width-80">
            <span>Vaisseau</span>
        </div>
    </div>

    <li class="item">

        <label class="hand-checkbox">
            <input
                class="item-checkbox"
                name="system.alchimie.constructs.cornue.active"
                type="checkbox"
                {{checked actor.system.alchimie.constructs.cornue.active}}
                data-dtype="Boolean"/>
            <i class="fa-light fa-flask-round-potion unchecked"></i>
            <i class="fa-solid fa-flask-round-potion checked"></i>
        </label>

        <label class="item-name">{{localize "NEPH5E.alchimie.constructs.cornue"}}</label>

        <input
            class="element"
            name="system.alchimie.constructs.cornue.air"
            type="text"
            value="{{actor.system.alchimie.constructs.cornue.air}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.cornue.eau"
            type="text"
            value="{{system.alchimie.constructs.cornue.eau}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.cornue.feu"
            type="text"
            value="{{actor.system.alchimie.constructs.cornue.feu}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.cornue.lune"
            type="text"
            value="{{actor.system.alchimie.constructs.cornue.lune}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.cornue.terre"
            type="text"
            value="{{actor.system.alchimie.constructs.cornue.terre}}"
            data-dtype="Number"/>

        <div class="degre">
            <select name="system.alchimie.constructs.cornue.degre">
            {{#select actor.system.alchimie.constructs.cornue.degre}}
                {{#each cercles as |name label|}}
                <option value="{{label}}">{{localize name}}</option>
                {{/each}}
            {{/select}}
            </select>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.substances.ambre"}}</span>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.vaisseaux.ampoule"}}</span>
        </div>
    
    </li>

    <li class="item">

        <label class="hand-checkbox">
            <input
                class="item-checkbox" 
                name="system.alchimie.constructs.creuset.active"
                type="checkbox"
                {{checked actor.system.alchimie.constructs.creuset.active}}
                data-dtype="Boolean"/>
            <i class="fa-light fa-flask-round-potion unchecked"></i>
            <i class="fa-solid fa-flask-round-potion checked"></i>
        </label>

        <label class="item-name">{{localize "NEPH5E.alchimie.constructs.creuset"}}</label>

        <input
            class="element"
            name="system.alchimie.constructs.creuset.air"
            type="text"
            value="{{actor.system.alchimie.constructs.creuset.air}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.creuset.eau"
            type="text"
            value="{{actor.system.alchimie.constructs.creuset.eau}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.creuset.feu"
            type="text"
            value="{{actor.system.alchimie.constructs.creuset.feu}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.creuset.lune"
            type="text"
            value="{{actor.system.alchimie.constructs.creuset.lune}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.creuset.terre"
            type="text"
            value="{{actor.system.alchimie.constructs.creuset.terre}}"
            data-dtype="Number"/>

        <div class="degre">
            <select name="system.alchimie.constructs.creuset.degre">
            {{#select actor.system.alchimie.constructs.creuset.degre}}
                {{#each cercles as |name label|}}
                <option value="{{label}}">{{localize name}}</option>
                {{/each}}
            {{/select}}
            </select>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.substances.metal"}}</span>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.vaisseaux.pyxide"}}</span>
        </div>
    
    </li>

    <li class="item">

        <label class="hand-checkbox">
            <input
                class="item-checkbox" 
                name="system.alchimie.constructs.athanor.active"
                type="checkbox"
                {{checked actor.system.alchimie.constructs.athanor.active}}
                data-dtype="Boolean"/>
            <i class="fa-light fa-flask-round-potion unchecked"></i>
            <i class="fa-solid fa-flask-round-potion checked"></i>
        </label>

        <label class="item-name">{{localize "NEPH5E.alchimie.constructs.athanor"}}</label>

        <input
            class="element"
            name="system.alchimie.constructs.athanor.air"
            type="text"
            value="{{actor.system.alchimie.constructs.athanor.air}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.athanor.eau"
            type="text"
            value="{{actor.system.alchimie.constructs.athanor.eau}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.athanor.feu"
            type="text"
            value="{{actor.system.alchimie.constructs.athanor.feu}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.athanor.lune"
            type="text"
            value="{{actor.system.alchimie.constructs.athanor.lune}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.athanor.terre"
            type="text"
            value="{{actor.system.alchimie.constructs.athanor.terre}}"
            data-dtype="Number"/>

        <div class="degre">
            <select name="system.alchimie.constructs.athanor.degre">
            {{#select actor.system.alchimie.constructs.athanor.degre}}
                {{#each cercles as |name label|}}
                <option value="{{label}}">{{localize name}}</option>
                {{/each}}
            {{/select}}
            </select>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.substances.poudre"}}</span>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.vaisseaux.cartouche"}}</span>
        </div>
    
    </li>

    <li class="item">

        <label class="hand-checkbox">
            <input
                class="item-checkbox" 
                name="system.alchimie.constructs.aludel.active"
                type="checkbox"
                {{checked actor.system.alchimie.constructs.aludel.active}}
                data-dtype="Boolean"/>
            <i class="fa-light fa-flask-round-potion unchecked"></i>
            <i class="fa-solid fa-flask-round-potion checked"></i>
        </label>

        <label class="item-name">{{localize "NEPH5E.alchimie.constructs.aludel"}}</label>

        <input
           class="element"
            name="system.alchimie.constructs.aludel.air"
            type="text"
            value="{{actor.system.alchimie.constructs.aludel.air}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.aludel.eau"
            type="text"
            value="{{actor.system.alchimie.constructs.aludel.eau}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.aludel.feu"
            type="text"
            value="{{actor.system.alchimie.constructs.aludel.feu}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.aludel.lune"
            type="text"
            value="{{actor.system.alchimie.constructs.aludel.lune}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.aludel.terre"
            type="text"
            value="{{actor.system.alchimie.constructs.aludel.terre}}"
            data-dtype="Number"/>

        <div class="degre">
            <select name="system.alchimie.constructs.aludel.degre">
            {{#select actor.system.alchimie.constructs.aludel.degre}}
                {{#each cercles as |name label|}}
                <option value="{{label}}">{{localize name}}</option>
                {{/each}}
            {{/select}}
            </select>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.substances.vapeur"}}</span>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.vaisseaux.flacon"}}</span>
        </div>
    
    </li>

    <li class="item">

        <label class="hand-checkbox">
            <input
                class="item-checkbox" 
                name="system.alchimie.constructs.alambic.active"
                type="checkbox"
                {{checked actor.system.alchimie.constructs.alambic.active}}
                data-dtype="Boolean"/>
            <i class="fa-light fa-flask-round-potion unchecked"></i>
            <i class="fa-solid fa-flask-round-potion checked"></i>
        </label>

        <label class="item-name">{{localize "NEPH5E.alchimie.constructs.alambic"}}</label>

        <input
            class="element"
            name="system.alchimie.constructs.alambic.air"
            type="text"
            value="{{actor.system.alchimie.constructs.alambic.air}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.alambic.eau"
            type="text"
            value="{{actor.system.alchimie.constructs.alambic.eau}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.alambic.feu"
            type="text"
            value="{{actor.system.alchimie.constructs.alambic.feu}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.alambic.lune"
            type="text"
            value="{{actor.system.alchimie.constructs.alambic.lune}}"
            data-dtype="Number"/>

        <input
            class="element"
            name="system.alchimie.constructs.alambic.terre"
            type="text"
            value="{{actor.system.alchimie.constructs.alambic.terre}}"
            data-dtype="Number"/>

        <div class="degre">
            <select name="system.alchimie.constructs.alambic.degre">
            {{#select actor.system.alchimie.constructs.alambic.degre}}
                {{#each cercles as |name label|}}
                <option value="{{label}}">{{localize name}}</option>
                {{/each}}
            {{/select}}
            </select>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.substances.liqueur"}}</span>
        </div>

        <div class="substance">
            <span>{{localize "NEPH5E.alchimie.vaisseaux.fiole"}}</span>
        </div>
    
    </li>

</ol>

<div class="materiae-header">

    <span class="name">{{localize "NEPH5E.materiaePrimae"}}</span>

    <div class="tooltip element">
        <i class="fas fa-wind"></i>
        <span class="tooltiptext">{{localize "NEPH5E.air"}}</span>
    </div>

    <input
        class="item-integer quantite"
        name="system.alchimie.primae.air.quantite"
        type="text"
        value="{{actor.system.alchimie.primae.air.quantite}}"
        data-dtype="Number"/>

    <div class="tooltip element">
        <i class="fas fa-water"></i>
        <span class="tooltiptext">{{localize "NEPH5E.eau"}}</span>
    </div>

    <input
        class="item-integer quantite"
        name="system.alchimie.primae.eau.quantite"
        type="text"
        value="{{actor.system.alchimie.primae.eau.quantite}}"
        data-dtype="Number"/>

    <div class="tooltip element">
        <i class="fas fa-fire"></i>
        <span class="tooltiptext">{{localize "NEPH5E.feu"}}</span>
    </div>

    <input
        class="item-integer quantite"
        name="system.alchimie.primae.feu.quantite"
        type="text"
        value="{{actor.system.alchimie.primae.feu.quantite}}"
        data-dtype="Number"/>

    <div class="tooltip element">
        <i class="fas fa-moon"></i>
        <span class="tooltiptext">{{localize "NEPH5E.lune"}}</span>
    </div>

    <input
        class="item-integer quantite"
        name="system.alchimie.primae.lune.quantite"
        type="text"
        value="{{actor.system.alchimie.primae.lune.quantite}}"
        data-dtype="Number"/>

    <div class="tooltip element">
        <i class="fas fa-seedling"></i>
        <span class="tooltiptext">{{localize "NEPH5E.terre"}}</span>
    </div>

    <input
        class="item-integer quantite"
        name="system.alchimie.primae.terre.quantite"
        type="text"
        value="{{actor.system.alchimie.primae.terre.quantite}}"
        data-dtype="Number"/>

</div>

<ol class="materiae-list">

    {{#each actor.materiae as |item|}}
    <li class="item" data-item-id="{{item.embedded.id}}">

        <a class="item-delete" data-id="{{item.embedded.id}}"><i class="fas fa-trash"></i></a>

        <div class="element">
        {{#switch item.original.element}}
            {{#case 'air'}}<i class="fas fa-wind"></i>{{/case}}
            {{#case 'eau'}}<i class="fas fa-water"></i>{{/case}}
            {{#case 'feu'}}<i class="fas fa-fire"></i>{{/case}}
            {{#case 'lune'}}<i class="fas fa-moon"></i>{{/case}}
            {{#case 'luneNoire'}}<i class="fas fa-circle"></i>{{/case}}
            {{#case 'terre'}}<i class="fas fa-seedling"></i>{{/case}}
        {{/switch}}
        </div>

        <div class="item-name edit-materiae" data-id="{{item.original.id}}">
            <span>{{item.original.name}}</span>
        </div>

        <div data-id="{{item.embedded.id}}">
            <input
                class="change-quantite"
                data-id="{{item.embedded.id}}"
                type="number"
                value="{{item.embedded.quantite}}"
                data-dtype="Number"/>
        </div>

    </li>
    {{/each}}

</ol>

{{#if catalyseurs}}
<div class="catalyseur-header">
    <span>{{localize "NEPH5E.catalyseurs"}}</span>
</div>

<ol class="catalyseur-list">

    {{#each actor.catalyseurs as |item|}}
    <li class="item" data-item-id="{{item.embedded.id}}">

        <a class="item-delete" data-id="{{item.embedded.id}}"><i class="fas fa-trash"></i></a>

        <div class="item-name edit-catalyseur" data-id="{{item.original.id}}">
            <span>{{item.original.name}}</span>
        </div>

    </li>
    {{/each}}

</ol>
{{/if}}